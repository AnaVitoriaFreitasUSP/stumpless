<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: Stumpless</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stumpless
   &#160;<span id="projectnumber">1.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Stumpless </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/goatshriek/stumpless"></a> <a href="https://ci.appveyor.com/project/goatshriek/stumpless"></a> <a href="https://codecov.io/gh/goatshriek/stumpless"></a> <a href="https://sonarcloud.io/dashboard?id=stumpless"></a> <a href="https://opensource.org/licenses/Apache-2.0"></a> https://github.com/goatshriek/stumpless/blob/latest/docs/CODE_OF_CONDUCT.md "![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-v2.0-ff69b4.svg)"</p>
<p>A logging library built with a https://github.com/goatshriek/stumpless/blob/latest/docs/vision.md "vision": a rich and intuitive interface, standards compliance, fast performance, and a small footprint.</p>
<p>Currently stumpless offers <a href="https://tools.ietf.org/html/rfc5424">standardized</a> logging to the following targets:</p><ul>
<li>network servers (<a href="https://tools.ietf.org/html/rfc5426">UDP</a> or <a href="https://tools.ietf.org/html/rfc6587">TCP</a> over IPv4 or IPv6)</li>
<li>files</li>
<li>streams</li>
<li>Linux sockets</li>
<li>the Windows Event Log</li>
<li>character buffers</li>
</ul>
<h2>Basic Logging Functions</h2>
<p>The simplest way to get started is to use the <code>stumplog</code> function as a direct replacement for the standard library's <code>syslog</code> function:</p>
<div class="fragment"><div class="line"><span class="comment">// if you&#39;re used to doing this:</span></div><div class="line">syslog( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message&quot;</span> );</div><div class="line"></div><div class="line"><span class="comment">// then you can start doing this:</span></div><div class="line"><a class="code" href="target_8h.html#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a>( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message&quot;</span> );</div></div><!-- fragment --><p>If you haven't opened a target, this will log messages to the default target for the platform: on a Linux this is <code>/dev/log</code>, on a Mac system this will be <code>/var/run/syslog</code>, and on a Windows machine it is the Windows Event Log. If you open a target or a few before calling <code>stumplog</code>, then logs will be sent to the most recently opened target.</p>
<p>If you want an even shorter function call, you can use the <code>stump</code> function to send a message to the current target:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#a2c81e0ae3ce13cd81ee7a464bfb1d751">stump</a>( <span class="stringliteral">&quot;My message&quot;</span> );</div></div><!-- fragment --><p>And of course, you can use format specifiers in both functions just as you would with <code>printf</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#a2c81e0ae3ce13cd81ee7a464bfb1d751">stump</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>If you want to open a specific target rather than using the default, then just open the target that you need and start sending messages. For example, to log to a file named <code>example.log</code>:</p>
<div class="fragment"><div class="line">target = <a class="code" href="file_8h.html#ac5136238d39059104bf538f92faefb50">stumpless_open_file_target</a>( <span class="stringliteral">&quot;example.log&quot;</span>,</div><div class="line">                                     <a class="code" href="option_8h.html#aac7a81cb7d3afe8e655d191014ca7195">STUMPLESS_OPTION_NONE</a>,</div><div class="line">                                     <a class="code" href="facility_8h.html#ae960e2009518c849de9f1a169d527248">STUMPLESS_FACILITY_USER</a> );</div><div class="line"><span class="comment">// uses the last opened target by default</span></div><div class="line"><a class="code" href="target_8h.html#a2c81e0ae3ce13cd81ee7a464bfb1d751">stump</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>Sending messages over the network to something like Splunk or rsyslog is just as easy:</p>
<div class="fragment"><div class="line">target = <a class="code" href="network_8h.html#af5fd4f635a3a04f067a850dd8d1ce1f8">stumpless_open_udp4_target</a>( <span class="stringliteral">&quot;send-to-splunk-example&quot;</span>,</div><div class="line">                                     <span class="stringliteral">&quot;mylogserver.com&quot;</span>, <span class="comment">// or use an IP</span></div><div class="line">                                     <a class="code" href="option_8h.html#aac7a81cb7d3afe8e655d191014ca7195">STUMPLESS_OPTION_NONE</a>,</div><div class="line">                                     <a class="code" href="facility_8h.html#ae960e2009518c849de9f1a169d527248">STUMPLESS_FACILITY_USER</a> );</div><div class="line"><a class="code" href="target_8h.html#a2c81e0ae3ce13cd81ee7a464bfb1d751">stump</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>If you have multiple targets, you can send messages to a chosen target like this:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#a6a6584fafc1a009fe10c7f92ec93f5bc">stumpless_add_message</a>( target,</div><div class="line">                       <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>,</div><div class="line">                       count,</div><div class="line">                       username );</div></div><!-- fragment --><h2>Severity Shorthand</h2>
<p>It's common to specify severity levels directly in logging calls, so stumpless provides some macro functions to make this less verbose and more efficient. For example, to log messages with a severity of INFO, you can do this:</p>
<div class="fragment"><div class="line"><a class="code" href="info_8h.html#a17d6fc25c971a6c4ac3bd02c14ba48a5">stump_i</a>( <span class="stringliteral">&quot;this gets logged as an info message&quot;</span> );</div></div><!-- fragment --><p>Using these functions has the added benefit that they can be removed at compile time by simply defining the <code>STUMPLESS_ENABLE_UPTO</code> or <code>STUMPLESS_DISABLE_DOWNTO</code> symbols. This makes it easy to change logging levels between builds, for example to have prod and debug versions without differences in their source code.</p>
<div class="fragment"><div class="line"><span class="comment">// be sure to define this before stumpless.h gets included</span></div><div class="line"><span class="preprocessor">#define STUMPLESS_ENABLE_UPTO_INFO</span></div><div class="line"></div><div class="line"><span class="comment">// ...</span></div><div class="line"></div><div class="line"><span class="comment">// this log will go through just fine</span></div><div class="line"><a class="code" href="info_8h.html#a17d6fc25c971a6c4ac3bd02c14ba48a5">stump_i</a>( <span class="stringliteral">&quot;I&#39;m doing that thing you asked&quot;</span> );</div><div class="line"></div><div class="line"><span class="comment">// this debugging message is completely removed: no runtime impact whatsoever</span></div><div class="line"><a class="code" href="debug_8h.html#a88301d0241ec06830d9cb1d6c43efaaa">stump_d</a>( <span class="stringliteral">&quot;DEBUG info: %d, %d, %s&quot;</span>, thing_1, thing_2, stringy_thingy );</div></div><!-- fragment --><p>Check out the headers in <a href="include/stumpless/level">stumpless/level</a> to see the full list of severity shorthand functions, or the <a href="docs/examples/severity_level">severity level example</a> to see a complete program in action.</p>
<h2>Even more examples</h2>
<p>For more detailed examples of the above scenarios, usage of specific target types, how to handle more complicated message structures, and more check out the <a href="https://github.com/goatshriek/stumpless/tree/latest/docs/examples">examples</a>. The examples also include annoted example code files to compile, run, and modify to get you started.</p>
<h2>Further Documentation</h2>
<p>If you're curious about how something in stumpless works that isn't explained here, you can check the appropriate section of the documentation, stored in the docs folder of the repository. Folders in the repository contain their own README files that detail what they contain and any other relevant information. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 14 2020 17:47:46 for stumpless by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
