---
title: C Documentation
keywords: doxygen, stumpless, c
last_updated: May 20, 2020
summary: "Documentation for Stumpless v1.5.0."
permalink: docs/c/v1-5-0/index.html
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: Stumpless</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stumpless
   &#160;<span id="projectnumber">1.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Stumpless </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/goatshriek/stumpless"></a> <a href="https://ci.appveyor.com/project/goatshriek/stumpless"></a> <a href="https://codecov.io/gh/goatshriek/stumpless"></a> <a href="https://sonarcloud.io/dashboard?id=stumpless"></a> <a href="https://opensource.org/licenses/Apache-2.0"></a></p>
<p>A logging library built with a https://github.com/goatshriek/stumpless/blob/master/docs/vision.md "vision": a rich and intuitive interface, standards compliance, fast performance, and a small footprint.</p>
<p>Currently stumpless offers <a href="https://tools.ietf.org/html/rfc5424">standardized</a> logging to the following targets:</p><ul>
<li>network servers (<a href="https://tools.ietf.org/html/rfc5426">UDP</a> or <a href="https://tools.ietf.org/html/rfc6587">TCP</a> over IPv4 or IPv6)</li>
<li>files</li>
<li>streams</li>
<li>Linux sockets</li>
<li>the Windows Event Log</li>
<li>character buffers</li>
</ul>
<h2>Basic Usage</h2>
<p>If you want to start off slow, then you can use the <code>stumplog</code> function as a direct replacement for the syslog function:</p>
<div class="fragment"><div class="line">syslog( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message&quot;</span> );</div><div class="line"></div><div class="line"><span class="comment">// the above can be directly replaced with:</span></div><div class="line"><a class="code" href="target_8h.html#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a>( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message&quot;</span> );</div></div><!-- fragment --><p>If you haven't opened a target, this will log messages to the default target for the platform: on a Linux this is <code>/dev/log</code>, on a Mac system this will be <code>/var/run/syslog</code>, and on a Windows machine it is the Windows Event Log. If you open a target or a few before calling <code>stumplog</code>, then logs will be sent to the most recently opened target.</p>
<p>If you want an even shorter function call, you can use the <code>stumpless</code> function to just send a message to the default target:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#aa9d298f8841ae8c2c9ef07c3e3a8614b">stumpless</a>( <span class="stringliteral">&quot;My message&quot;</span> );</div></div><!-- fragment --><p>And of course, you can use format specifiers in both functions just as you would with <code>printf</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#aa9d298f8841ae8c2c9ef07c3e3a8614b">stumpless</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>If you want to open your own target, then you simply open the target that you want and start sending messages. For example, to log to a file:</p>
<div class="fragment"><div class="line">target = <a class="code" href="file_8h.html#ac5136238d39059104bf538f92faefb50">stumpless_open_file_target</a>( <span class="stringliteral">&quot;example.log&quot;</span>,</div><div class="line">                                     <a class="code" href="entry_8h.html#aac7a81cb7d3afe8e655d191014ca7195">STUMPLESS_OPTION_NONE</a>,</div><div class="line">                                     <a class="code" href="entry_8h.html#ae960e2009518c849de9f1a169d527248">STUMPLESS_FACILITY_USER</a> );</div><div class="line"><span class="comment">// uses the last opened target by default</span></div><div class="line"><a class="code" href="target_8h.html#aa9d298f8841ae8c2c9ef07c3e3a8614b">stumpless</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>Sending messages over the network to something like Splunk or rsyslog is just as easy:</p>
<div class="fragment"><div class="line">target = <a class="code" href="network_8h.html#af5fd4f635a3a04f067a850dd8d1ce1f8">stumpless_open_udp4_target</a>( <span class="stringliteral">&quot;send-to-splunk-example&quot;</span>,</div><div class="line">                                     <span class="stringliteral">&quot;mylogserver.com&quot;</span>, <span class="comment">// or use an IP</span></div><div class="line">                                     <a class="code" href="entry_8h.html#aac7a81cb7d3afe8e655d191014ca7195">STUMPLESS_OPTION_NONE</a>,</div><div class="line">                                     <a class="code" href="entry_8h.html#ae960e2009518c849de9f1a169d527248">STUMPLESS_FACILITY_USER</a> );</div><div class="line"><a class="code" href="target_8h.html#aa9d298f8841ae8c2c9ef07c3e3a8614b">stumpless</a>( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, count, username );</div></div><!-- fragment --><p>If you have multiple targets, you can send messages to a chosen target like this:</p>
<div class="fragment"><div class="line"><a class="code" href="target_8h.html#a6a6584fafc1a009fe10c7f92ec93f5bc">stumpless_add_message</a>( target,</div><div class="line">                       <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>,</div><div class="line">                       count,</div><div class="line">                       username );</div></div><!-- fragment --><p>It's as easy as that! For more detailed examples of different targets and more complicated message structures, check out the <a href="https://github.com/goatshriek/stumpless/tree/master/docs/examples">examples</a>. for detailed walkthroughs and annotated example code for using various features of the library.</p>
<h2>Further Documentation</h2>
<p>If you're curious about how something in stumpless works that isn't explained here, you can check the appropriate section of the documentation, stored in the docs folder of the repository. Folders in the repository contain their own README files that detail what they contain and any other relevant information. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 20 2020 06:03:55 for stumpless by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
